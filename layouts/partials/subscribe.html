<form id="mc-form">
  <input type="text" name="FNAME" id="fname" placeholder="First Name" required>
  <input type="email" name="EMAIL" id="email" placeholder="Your Email Address" required>

  <button type="submit">Join the List</button>

  <p id="mc-success" style="display:none; color: green;">üéâ Thanks for subscribing! Check your email.</p>
  <p id="mc-error" style="display:none; color: red;">‚ö†Ô∏è Something went wrong. Try again.</p>
</form>

<script>
document.getElementById("mc-form").addEventListener("submit", async function(event) {
  event.preventDefault();
  
  var firstName = document.getElementById("fname").value;
  var email = document.getElementById("email").value;

  var url = "https://script.google.com/macros/s/AKfycbxImmhBLghxWJvMJiW8bPJs5igzg_jrCrzFD-eqLHmZsqBj_HFAQ_g7kAKFtK9C1WjU9g/exec"; // Replace with your actual Google Apps Script URL

  try {
    let response = await fetch(url, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ firstName: firstName, email: email })
    });

    let result = await response.text();

    if (result.includes("Success")) {
      document.getElementById("mc-success").style.display = "block";
      document.getElementById("mc-error").style.display = "none";
      event.target.reset();
    } else {
      throw new Error("Subscription failed");
    }
  } catch (error) {
    document.getElementById("mc-success").style.display = "none";
    document.getElementById("mc-error").style.display = "block";
  }
});
</script>